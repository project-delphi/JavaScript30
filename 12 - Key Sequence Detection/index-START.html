<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>

<body>
  <script>
    const secretCode = '0000';

    const hasPressedSecretCode = ((code) => {
      let pressed = [];
      return ((key) => {
        pressed = pressed.concat(key).slice(-code.length - 1);
        console.log(pressed)
        return pressed.join('').includes(code);
      });
    })(secretCode);

    window.addEventListener('keyup', (e) => {
      hasPressedSecretCode(e.key) ? cornify_add() : null;
    });
  </script>
</body>

</html>